<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bocce Game</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .ball { margin-bottom: 20px; }
        .result { margin-top: 20px; }
    </style>
</head>
<body>
    <h1 style="text-align: center;">BOCCE</h1>
    <h2 style="text-align: center;">CREATIVE COMPUTING</h2>
    <h3 style="text-align: center;">MORRISTOWN NEW JERSEY</h3>
    <hr>

    <div id="instructions"></div>

    <div id="input-section">
        <label for="instructionsNeeded">DO YOU NEED INSTRUCTIONS? (YES/NO)</label>
        <input type="text" id="instructionsNeeded" />
        <button onclick="checkInstructions()">Submit</button>
    </div>

    <div id="ball-inputs"></div>

    <div class="result" id="result"></div>

    <script>
        let balls = [];
        const maxBalls = 4;
        const jackPosition = { x: 2203, y: 199 }; // Jack coordinates
        let totalDistance = 0;

        function checkInstructions() {
            const input = document.getElementById('instructionsNeeded').value.trim().toUpperCase();
            const instructionsDiv = document.getElementById('instructions');
            if (input === 'YES') {
                instructionsDiv.innerHTML = `
                    <p>IN THIS GAME YOU ROLL 4 BALLS SUCCESSIVELY AT A TARGET</p>
                    <p>BALL (CALLED A JACK). THE OBJECT IS TO GET THE BALLS AS CLOSE</p>
                    <p>TO THE JACK AS POSSIBLE...</p>
                    <p>HINT. TRY AN INITIAL VELOCITY OF 500 AND AN ANGLE OF 10</p>
                `;
            }
            startBallInput();
        }

        function startBallInput() {
            const inputSection = document.getElementById('input-section');
            inputSection.innerHTML = ''; // Clear the input section
            addBallInput(1); // Start with the first ball
        }

        function addBallInput(ballNumber) {
            if (ballNumber > maxBalls) {
                calculateResults();
                return;
            }
            const ballInputs = document.getElementById('ball-inputs');
            ballInputs.innerHTML += `
                <div class="ball">
                    <h4>Ball ${ballNumber}</h4>
                    <label for="velocity${ballNumber}">VELOCITY:</label>
                    <input type="number" id="velocity${ballNumber}" required />
                    <label for="angle${ballNumber}">ANGLE:</label>
                    <input type="number" id="angle${ballNumber}" required />
                    <button onclick="submitBall(${ballNumber})">Submit</button>
                </div>
            `;
        }

        function submitBall(ballNumber) {
            const velocity = parseFloat(document.getElementById(`velocity${ballNumber}`).value);
            const angle = parseFloat(document.getElementById(`angle${ballNumber}`).value);
            const angleRad = angle * (Math.PI / 180);
            const ballPosition = calculateBallPosition(velocity, angleRad, ballNumber);

            balls.push({ velocity, angle, position: ballPosition });

            if (ballNumber < maxBalls) {
                addBallInput(ballNumber + 1);
            } else {
                displayBalls();
            }
        }

        function calculateBallPosition(velocity, angle, ballNumber) {
            // Simplified physics for ball movement, you can adjust it
            const distanceX = velocity * Math.cos(angle);
            const distanceY = velocity * Math.sin(angle);
            return {
                x: jackPosition.x + distanceX,
                y: jackPosition.y + distanceY
            };
        }

        function displayBalls() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<h3>RESULTS</h3>';
            balls.forEach((ball, index) => {
                const distance = Math.sqrt(
                    Math.pow(ball.position.x - jackPosition.x, 2) +
                    Math.pow(ball.position.y - jackPosition.y, 2)
                );
                totalDistance += distance;
                resultDiv.innerHTML += `
                    <p>Ball ${index + 1} at coordinates (${ball.position.x.toFixed(2)}, ${ball.position.y.toFixed(2)}) - Distance from Jack: ${distance.toFixed(2)} cm</p>
                `;
            });
            resultDiv.innerHTML += `<p>Total distance of all balls from the jack: ${totalDistance.toFixed(2)} cm</p>`;
            givePerformanceFeedback(totalDistance);
        }

        function givePerformanceFeedback(totalDistance) {
            const resultDiv = document.getElementById('result');
            if (totalDistance < maxBalls ** 2) {
                resultDiv.innerHTML += "<p>MAGNIFICENT BOWLING! WHAT AN EYE!!</p>";
            } else if (totalDistance < 2 * maxBalls ** 2) {
                resultDiv.innerHTML += "<p>EXCELLENT BUT COULD BE BETTER:</p>";
            } else if (totalDistance < 3 * maxBalls ** 2) {
                resultDiv.innerHTML += "<p>GOOD BUT NEEDS SOME IMPROVEMENT</p>";
            } else if (totalDistance < 6 * maxBalls ** 2) {
                resultDiv.innerHTML += "<p>FAIR - YOU NEED MORE PRACTICE</p>";
            } else if (totalDistance < 10 * maxBalls ** 2) {
                resultDiv.innerHTML += "<p>POOR - TRY TO BE MORE CONSISTENT</p>";
            } else if (totalDistance < 20 * maxBalls ** 2) {
                resultDiv.innerHTML += "<p>YOUR GAME NEEDS LOTS OF WORK</p>";
            } else {
                resultDiv.innerHTML += "<p>DON'T PLAY THIS GAME FOR MONEY!!</p>";
            }
        }
    </script>
</body>
</html>
